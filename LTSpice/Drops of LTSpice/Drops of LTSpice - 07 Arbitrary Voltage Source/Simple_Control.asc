Version 4
SHEET 1 1260 680
WIRE 704 -192 256 -192
WIRE -192 -128 -224 -128
WIRE -224 -96 -224 -128
WIRE 576 -96 576 -112
WIRE 416 -48 384 -48
WIRE 512 -48 496 -48
WIRE -784 -16 -784 -32
WIRE 336 -16 336 -32
WIRE -224 0 -224 -16
WIRE 256 0 256 -192
WIRE 304 0 256 0
WIRE 384 16 384 -48
WIRE 384 16 368 16
WIRE 576 16 576 0
WIRE 704 16 704 -192
WIRE 704 16 576 16
WIRE 864 16 704 16
WIRE 976 16 944 16
WIRE 1072 16 976 16
WIRE 1120 16 1072 16
WIRE 304 32 256 32
WIRE 576 32 576 16
WIRE -160 48 -224 48
WIRE 976 48 976 16
WIRE -224 64 -224 48
WIRE 336 64 336 48
WIRE 1072 64 1072 16
WIRE -784 80 -784 64
WIRE -784 80 -832 80
WIRE 384 80 384 16
WIRE 416 80 384 80
WIRE 512 80 496 80
WIRE -832 96 -832 80
WIRE -784 96 -784 80
WIRE 576 144 576 128
WIRE 976 144 976 128
WIRE 1072 144 1072 128
WIRE -224 160 -224 144
WIRE -784 192 -784 176
FLAG 336 -32 VPOS
FLAG 576 -112 VPOS
FLAG -784 -32 VPOS
FLAG 576 144 VNEG
FLAG 336 64 VNEG
FLAG 976 144 0
FLAG -784 192 VNEG
FLAG -832 96 0
FLAG 1120 16 FEEDBACK
FLAG -224 0 0
FLAG -192 -128 ERROR
FLAG -224 160 0
FLAG -160 48 CTRL
FLAG 256 32 CTRL
FLAG 1072 144 0
SYMBOL OpAmps\\UniversalOpAmp 336 16 R0
SYMATTR InstName U1
SYMBOL npn 512 -96 R0
SYMATTR InstName Q1
SYMATTR Value BC337-40
SYMBOL pnp 512 128 M180
SYMATTR InstName Q2
SYMATTR Value BC327-40
SYMBOL res 512 -64 R90
WINDOW 0 -31 77 VBottom 2
WINDOW 3 -32 74 VTop 2
SYMATTR InstName R1
SYMATTR Value 4.7
SYMBOL res 512 64 R90
WINDOW 0 -35 77 VBottom 2
WINDOW 3 -34 73 VTop 2
SYMATTR InstName R2
SYMATTR Value 4.7
SYMBOL res 960 32 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL voltage -784 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 18
SYMBOL voltage -784 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 18
SYMBOL bv -224 -112 R0
SYMATTR InstName B1
SYMATTR Value V={SP} - V(feedback)
SYMBOL bv -224 48 R0
SYMATTR InstName B2
SYMATTR Value V= 4 * V(ERROR) + 6 * idt( V(ERROR) )
SYMBOL res 960 0 R90
WINDOW 0 61 59 VBottom 2
WINDOW 3 63 58 VTop 2
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL cap 1056 64 R0
SYMATTR InstName C1
SYMATTR Value 10µ
TEXT -140 248 Left 2 !.tran 0 10 0 100n startup
TEXT -136 208 Left 2 !.param SP=5
